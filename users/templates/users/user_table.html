<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>OneTapSOS | User Table</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1828/1828884.png" />
</head>
<body class="bg-gray-50 min-h-screen font-sans text-gray-800">

  <div class="max-w-5xl mx-auto py-10 px-4">
    <header class="mb-6">
      <h1 class="text-4xl font-bold tracking-tight">ðŸš¨ OneTapSOS</h1>
      <p class="text-base text-gray-600 mt-1">Registered Users Overview</p>
    </header>

    <div class="overflow-x-auto bg-white shadow rounded-lg">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-3 text-sm font-medium text-gray-700 text-left">Username</th>
            <th class="px-4 py-3 text-sm font-medium text-gray-700 text-left">Email</th>
            <th class="px-4 py-3 text-sm font-medium text-gray-700 text-left">Full Name</th>
            <th class="px-4 py-3 text-sm font-medium text-gray-700 text-left">Phone</th>
          </tr>
        </thead>
        <tbody id="user-table-body" class="divide-y divide-gray-100">
          <!-- Data will be injected here -->
        </tbody>
      </table>
    </div>

    <footer class="mt-8 text-sm text-gray-500 text-left">
      &copy; 2025 OneTapSOS. All rights reserved.
    </footer>
  </div>

  <script>
    fetch('https://onetapsos-bckend.onrender.com/api/users/users/')
      .then(response => response.json())
      .then(data => {
        const tbody = document.getElementById('user-table-body');
        data.forEach(user => {
          const row = `
            <tr class="hover:bg-gray-50 transition">
              <td class="px-4 py-3 text-sm">${user.username}</td>
              <td class="px-4 py-3 text-sm">${user.email}</td>
              <td class="px-4 py-3 text-sm">${user.full_name}</td>
              <td class="px-4 py-3 text-sm">${user.phone}</td>
            </tr>
          `;
          tbody.innerHTML += row;
        });
      });
  </script>
</body>
</html>